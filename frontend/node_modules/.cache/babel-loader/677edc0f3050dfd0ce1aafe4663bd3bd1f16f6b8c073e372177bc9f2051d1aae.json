{"ast":null,"code":"const handleSearch = async e => {\n  e.preventDefault();\n  setIsLoading(true);\n  try {\n    // Trim and validate inputs\n    const cityQuery = searchQuery.city.trim();\n    const countryQuery = searchQuery.country.trim();\n    if (!cityQuery && !countryQuery) {\n      throw new Error('Please enter a city or country');\n    }\n    if (countryQuery && !cityQuery) {\n      const capital = await getCountryCapital(countryQuery);\n      setLocation({\n        city: capital,\n        country: countryQuery\n      });\n    } else {\n      setLocation({\n        city: cityQuery,\n        country: countryQuery\n      });\n    }\n  } catch (error) {\n    alert(`Search error: ${error.message}`);\n  } finally {\n    setIsLoading(false);\n  }\n};","map":{"version":3,"names":["handleSearch","e","preventDefault","setIsLoading","cityQuery","searchQuery","city","trim","countryQuery","country","Error","capital","getCountryCapital","setLocation","error","alert","message"],"sources":["C:/MNNIT/SEM2/programmingLab2/Project/smartcity/smartCity/frontend/src/App.js"],"sourcesContent":["const handleSearch = async (e) => {\n  e.preventDefault();\n  setIsLoading(true);\n\n  try {\n    // Trim and validate inputs\n    const cityQuery = searchQuery.city.trim();\n    const countryQuery = searchQuery.country.trim();\n\n    if (!cityQuery && !countryQuery) {\n      throw new Error('Please enter a city or country');\n    }\n\n    if (countryQuery && !cityQuery) {\n      const capital = await getCountryCapital(countryQuery);\n      setLocation({\n        city: capital,\n        country: countryQuery\n      });\n    } else {\n      setLocation({\n        city: cityQuery,\n        country: countryQuery\n      });\n    }\n  } catch (error) {\n    alert(`Search error: ${error.message}`);\n  } finally {\n    setIsLoading(false);\n  }\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,YAAY,CAAC,IAAI,CAAC;EAElB,IAAI;IACF;IACA,MAAMC,SAAS,GAAGC,WAAW,CAACC,IAAI,CAACC,IAAI,CAAC,CAAC;IACzC,MAAMC,YAAY,GAAGH,WAAW,CAACI,OAAO,CAACF,IAAI,CAAC,CAAC;IAE/C,IAAI,CAACH,SAAS,IAAI,CAACI,YAAY,EAAE;MAC/B,MAAM,IAAIE,KAAK,CAAC,gCAAgC,CAAC;IACnD;IAEA,IAAIF,YAAY,IAAI,CAACJ,SAAS,EAAE;MAC9B,MAAMO,OAAO,GAAG,MAAMC,iBAAiB,CAACJ,YAAY,CAAC;MACrDK,WAAW,CAAC;QACVP,IAAI,EAAEK,OAAO;QACbF,OAAO,EAAED;MACX,CAAC,CAAC;IACJ,CAAC,MAAM;MACLK,WAAW,CAAC;QACVP,IAAI,EAAEF,SAAS;QACfK,OAAO,EAAED;MACX,CAAC,CAAC;IACJ;EACF,CAAC,CAAC,OAAOM,KAAK,EAAE;IACdC,KAAK,CAAC,iBAAiBD,KAAK,CAACE,OAAO,EAAE,CAAC;EACzC,CAAC,SAAS;IACRb,YAAY,CAAC,KAAK,CAAC;EACrB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}